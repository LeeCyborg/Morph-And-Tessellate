let startPoints, endPoints, midPoints;
let inc = 0.0;
function setup() {
    createCanvas(800, 800, SVG);
    startPoints = [[359.79998779296875,219.60000610351562],[350.9121398925781,226.1708984375],[341.37384033203125,231.75584411621094],[330.7857971191406,234.81414794921875],[319.9716491699219,233.10440063476562],[310.8962707519531,226.830322265625],[302.6463623046875,219.44790649414062],[294.3728942871094,212.09019470214844],[286.1921691894531,204.63014221191406],[278.38800048828125,196.77931213378906],[271.2754821777344,188.30029296875],[266.4935302734375,178.3426971435547],[259.89161682128906,169.57135009765625],[250.54147338867188,163.74513244628906],[240.00973510742188,160.38577270507812],[231.4140167236328,153.5482940673828],[222.92343139648438,146.4716567993164],[213.64366149902344,140.4378204345703],[205.12643432617188,133.37442779541016],[195.59967041015625,127.7673110961914],[185.28211975097656,123.75999450683594],[175.03317260742188,119.5763168334961],[165.22662353515625,114.45169830322266],[155.88223266601562,108.51777648925781],[164.1874237060547,108.07099151611328],[175.11582946777344,109.82376098632812],[185.9285125732422,112.20370483398438],[196.84307861328125,112.7596664428711],[204.1901397705078,104.84262084960938],[206.22494506835938,94.42514038085938],[211.22857666015625,85.3942642211914],[211.72120666503906,74.34718704223633],[208.56076049804688,63.820037841796875],[200.32028198242188,56.729671478271484],[190.2416534423828,52.17467498779297],[183.95375061035156,43.50661087036133],[173.78286743164062,42.03411102294922],[163.0184783935547,41.22039222717285],[152.73033142089844,37.149702072143555],[141.94065856933594,34.76926612854004],[130.93719482421875,35.417673110961914],[120.90413665771484,39.93301963806152],[113.12631225585938,47.73802185058594],[107.78060150146484,57.411930084228516],[103.81655883789062,67.74214172363281],[101.087646484375,78.46723556518555],[99.21098327636719,89.37409210205078],[98.61686706542969,100.42064666748047],[100.64302062988281,111.27149963378906],[102.98969268798828,122.08058166503906],[105.43883514404297,132.87811279296875],[107.95346069335938,143.6605987548828],[110.13630676269531,154.51470947265625],[104.86205291748047,162.75851440429688],[95.61688995361328,168.85008239746094],[86.85099792480469,175.3700408935547],[86.59907531738281,186.369140625],[85.74736022949219,197.39259338378906],[88.42417907714844,208.0513458251953],[91.49125671386719,217.678466796875],[102.5246353149414,217.3710174560547],[99.26127624511719,214.43020629882812],[92.4403305053711,207.97030639648438],[93.71334838867188,210.16831970214844],[103.57852935791016,213.5501708984375],[106.72169494628906,208.40721130371094],[96.7023696899414,210.22264099121094],[95.11275482177734,199.44654846191406],[92.99530792236328,188.8190460205078],[96.42768859863281,178.59445190429688],[107.14728546142578,175.87060546875],[116.33583068847656,173.29476928710938],[123.71903228759766,181.53729248046875],[131.1714096069336,189.64779663085938],[125.93862915039062,199.3994903564453],[122.9360122680664,210.007080078125],[121.89559173583984,220.9345703125],[126.45690155029297,230.77655029296875],[127.3757095336914,225.5235137939453],[126.85941314697266,214.6670684814453],[129.04754638671875,221.4502716064453],[139.74068450927734,222.999267578125],[132.05146026611328,218.088134765625],[131.7186737060547,207.36476135253906],[133.0290069580078,197.45806884765625],[138.67481994628906,206.9596710205078],[146.0632553100586,215.1865234375],[154.6027374267578,222.22262573242188],[155.17123413085938,232.8804931640625],[157.56614685058594,243.64144897460938],[163.173583984375,253.12620544433594],[170.97171020507812,260.9695587158203],[179.55178833007812,267.9668884277344],[187.98898315429688,275.13006591796875],[193.6480255126953,284.52325439453125],[194.1075439453125,295.46240234375],[187.92962646484375,303.9679870605469],[176.8773956298828,303.4210205078125],[166.79258728027344,306.08612060546875],[164.7360382080078,313.9360656738281],[161.93984985351562,320.6427917480469],[172.92312622070312,320.1875],[183.56231689453125,317.20831298828125],[194.4450225830078,315.1773681640625],[205.2311248779297,313.9518127441406],[210.37765502929688,304.6292724609375],[210.1009979248047,293.566650390625],[210.5284881591797,282.50408935546875],[208.60267639160156,271.8233184814453],[202.05442810058594,262.9178161621094],[197.0784454345703,253.15676879882812],[206.5298614501953,255.62599182128906],[217.4965362548828,256.5999450683594],[228.00564575195312,258.2168731689453],[233.14280700683594,265.1066131591797],[239.6642608642578,273.71673583984375],[244.62594604492188,283.60198974609375],[247.9872589111328,294.1099853515625],[248.23838806152344,305.17364501953125],[248.1337127685547,316.1913757324219],[244.33876037597656,326.5509948730469],[237.228271484375,334.6201171875],[232.0415802001953,344.3288269042969],[227.9202880859375,354.4632263183594],[237.7333221435547,350.45965576171875],[248.58489990234375,351.3542785644531],[251.3733673095703,361.8207092285156],[256.59629821777344,359.9114074707031],[262.8703918457031,351.2480773925781],[273.2632293701172,353.0233154296875],[283.3869934082031,356.1997375488281],[279.1840515136719,346.3760070800781],[274.94810485839844,336.3517761230469],[270.6065216064453,326.3410339355469],[267.5915985107422,315.6925964355469],[268.4156188964844,304.81842041015625],[268.940673828125,294.10992431640625],[265.75621032714844,283.5570983886719],[265.56166076660156,272.5071105957031],[267.1595764160156,261.5584411621094],[273.35865783691406,261.5741882324219],[283.9782409667969,264.5316925048828],[294.8804931640625,266.41273498535156],[305.935791015625,266.6618194580078],[316.8378601074219,264.84043884277344],[327.132080078125,260.8208923339844],[336.4015197753906,254.7972412109375],[344.4395751953125,247.2068634033203],[351.0184326171875,238.316650390625],[356.26336669921875,228.57386779785156]];
    endPoints = [[477.8000183105469,46.69999885559082],[466.3085479736328,46.700021743774414],[454.81703186035156,46.700021743774414],[443.3255615234375,46.700021743774414],[431.83409118652344,46.700018882751465],[420.3426208496094,46.700018882751465],[408.8511047363281,46.700018882751465],[397.35963439941406,46.700016021728516],[385.8681640625,46.700016021728516],[374.37669372558594,46.700016021728516],[362.8852005004883,46.700013160705566],[351.3937072753906,46.700013160705566],[339.90223693847656,46.700013160705566],[328.4107666015625,46.70001029968262],[316.91927337646484,46.70001029968262],[305.4277801513672,46.70001029968262],[293.9363098144531,46.70000743865967],[282.44483947753906,46.70000743865967],[270.953369140625,46.70000457763672],[259.46185302734375,46.70000457763672],[247.9703826904297,46.70000457763672],[236.47891235351562,46.70000171661377],[224.98744201660156,46.70000171661377],[213.4959716796875,46.70000171661377],[202.00446701049805,46.69999885559082],[190.51299667358398,46.69999885559082],[184.7074203491211,56.55213165283203],[178.9582977294922,66.50208282470703],[173.20917510986328,76.45205688476562],[167.46002960205078,86.40200805664062],[161.71090698242188,96.35195922851562],[155.96178436279297,106.30191040039062],[150.21263885498047,116.25187301635742],[144.46351623535156,126.20182418823242],[138.71437072753906,136.15178680419922],[132.96524810791016,146.10173797607422],[127.21612548828125,156.05168914794922],[121.46699142456055,166.00162887573242],[115.71784591674805,175.9516143798828],[109.96871757507324,185.9015655517578],[104.21958923339844,195.8515167236328],[98.47046661376953,205.80145645141602],[92.72131538391113,215.7514419555664],[86.97218704223633,225.7013931274414],[81.22306442260742,235.6513442993164],[75.47393608093262,245.6012725830078],[69.72480773925781,255.5512237548828],[63.97566223144531,265.501220703125],[58.22653388977051,275.451171875],[52.47740840911865,285.401123046875],[46.7282829284668,295.3510513305664],[52.42088317871094,305.3010482788086],[58.170005798339844,315.2509994506836],[63.91912841796875,325.2009506225586],[69.66826248168945,335.1509017944336],[75.41738510131836,345.1008529663086],[81.16653060913086,355.0508270263672],[86.91565322875977,365.0007781982422],[92.66478729248047,374.9507293701172],[98.41390419006348,384.9006805419922],[104.16305541992188,394.8506546020508],[109.91217803955078,404.8006286621094],[115.66130638122559,414.7505798339844],[121.4104232788086,424.7004852294922],[127.1595687866211,434.6504821777344],[132.9087028503418,444.6004333496094],[138.6578254699707,454.5503845214844],[144.4069480895996,464.5003356933594],[150.1561050415039,474.45033264160156],[155.90520477294922,484.4002380371094],[161.65435028076172,494.3501892089844],[167.40349578857422,504.30018615722656],[173.15259552001953,514.2500915527344],[178.90175247192383,524.2000885009766],[184.65085220336914,534.1499938964844],[190.39999771118164,544.0999908447266],[201.8914794921875,544.0999908447266],[213.38290405273438,544.0999908447266],[224.87442016601562,544.0999908447266],[236.3658447265625,544.0999908447266],[247.85736083984375,544.0999908447266],[259.348876953125,544.0999908447266],[270.8403015136719,544.0999908447266],[282.3318176269531,544.0999908447266],[293.8233337402344,544.0999908447266],[305.31475830078125,544.0999908447266],[316.8062744140625,544.0999908447266],[328.2976989746094,544.0999908447266],[339.7892150878906,544.0999908447266],[351.2807312011719,544.0999908447266],[362.77215576171875,544.0999908447266],[374.263671875,544.0999908447266],[385.7550964355469,544.0999908447266],[397.2466125488281,544.0999908447266],[408.7381286621094,544.0999908447266],[420.22955322265625,544.0999908447266],[431.7210693359375,544.0999908447266],[443.2124938964844,544.0999908447266],[454.7040100097656,544.0999908447266],[466.1955261230469,544.0999908447266],[477.68695068359375,544.0999908447266],[483.4925842285156,534.2478637695312],[489.2417297363281,524.2979125976562],[494.9908752441406,514.3480072021484],[500.7400207519531,504.39801025390625],[506.48907470703125,494.44810485839844],[512.2382659912109,484.49810791015625],[517.9874114990234,474.54815673828125],[523.7365112304688,464.59820556640625],[529.4856567382812,454.64825439453125],[535.2347564697266,444.69830322265625],[540.9839019775391,434.74835205078125],[546.7330474853516,424.79835510253906],[552.4821472167969,414.84844970703125],[558.2312927246094,404.89845275878906],[563.9804382324219,394.94847869873047],[569.7295379638672,384.99857330322266],[575.4786834716797,375.04857635498047],[581.227783203125,365.09867095947266],[586.9769287109375,355.14869689941406],[592.72607421875,345.1986999511719],[598.4751739501953,335.24879455566406],[604.2243194580078,325.2987976074219],[609.9734649658203,315.34889221191406],[615.7226104736328,305.3988952636719],[621.4717559814453,295.4489212036133],[615.7791442871094,285.4989929199219],[610.0299987792969,275.5490188598633],[604.2808532714844,265.5990219116211],[598.5317077636719,255.64911651611328],[592.7825622558594,245.6991195678711],[587.0335083007812,235.74921417236328],[581.2843627929688,225.7992172241211],[575.5351715087891,215.8492431640625],[569.7860717773438,205.8993377685547],[564.0369262695312,195.9493408203125],[558.2877807617188,185.9993438720703],[552.5386352539062,176.04936981201172],[546.7895812988281,166.0995330810547],[541.0404357910156,156.1495590209961],[535.2912902832031,146.1995620727539],[529.5421447753906,136.24956512451172],[523.7929992675781,126.29959106445312],[518.0439453125,116.3497543334961],[512.2947998046875,106.3997688293457],[506.545654296875,96.44977760314941],[500.7965087890625,86.49979209899902],[495.04736328125,76.54980087280273],[489.2983093261719,66.5999755859375],[483.5491638183594,56.64998722076416]];
    stroke(255, 0, 0);
    fill(0, 255, 0);
    applyOffset(startPoints, 150, 70);
    drawRex(endPoints);
    drawRex(startPoints);
}
function mousePressed(){
    clear();
    background(0);
    if( inc < 1){
        inc +=0.05;
    } else {
        inc = 0;
    }
    expandLines(startPoints, endPoints, inc);
    drawRex(midPoints );
}
function drawRex(path){
    beginShape();
    for(let i = 0; i < path.length; i++) {
        vertex(path[i][0], path[i][1]);
    }
    endShape(CLOSE);
}
function expandLines(firstShape, secondShape, amt){
    midPoints = [];
    for(let i = 0; i < firstShape.length; i++) {
        let x = lerp(firstShape[i][0], secondShape[i][0], amt);
        let y = lerp(firstShape[i][1], secondShape[i][1], amt);
        midPoints.push([x,y]);
    }
}
function applyOffset(path, offsetX = 0, offsetY = 0){ 
    for(let i = 0; i < path.length; i++) {
       path[i][0]+=offsetX;
       path[i][1]+=offsetY;
    }
}